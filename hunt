-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

-- Variables
local player = Players.LocalPlayer
local client = player
local screenGui = Instance.new("ScreenGui")
local frame = Instance.new("Frame")
local label = Instance.new("TextLabel")

-- Create the GUI elements
screenGui.Name = "HuntDisplayGui"
screenGui.Parent = player:WaitForChild("PlayerGui")

frame.Size = UDim2.new(0, 150, 0, 50)  -- Adjust size as needed
frame.Position = UDim2.new(1, -160, 0, 10)  -- Position on the top right
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.5
frame.BorderSizePixel = 2
frame.Visible = false
frame.Parent = screenGui

label.Size = UDim2.new(1, 0, 1, 0)
label.BackgroundTransparency = 1
label.Font = Enum.Font.SourceSans
label.TextSize = 24
label.TextColor3 = Color3.fromRGB(255, 0, 0)  -- Red color
label.Text = "Hunt"
label.TextStrokeTransparency = 0.5
label.TextXAlignment = Enum.TextXAlignment.Center
label.TextYAlignment = Enum.TextYAlignment.Center
label.Parent = frame

-- Function to start auto-aggro ghost hunting
local function startGhostHunting()
    local function updateHuntDisplay(isHunting)
        frame.Visible = isHunting
    end

    local sv
    while true do
        local GhostModel = Workspace:FindFirstChild('GhostModel')
        local Base = GhostModel and GhostModel:FindFirstChild('Base')
        local BasePart = GhostModel and (GhostModel.PrimaryPart or GhostModel:FindFirstChild('HumanoidRootPart') or GhostModel:FindFirstChildWhichIsA('BasePart'))
        local HRoot = client.Character and (client.Character.PrimaryPart or client.Character:FindFirstChild('HumanoidRootPart') or client.Character:FindFirstChildWhichIsA('BasePart'))
        
        if Base and Base.Transparency == 0 then
            if not client:FindFirstChild('Noclip') then
                sv = RunService.RenderStepped:Connect(function()
                    -- Check for ghost hunting
                    local isHunting = Base.Transparency == 0
                    updateHuntDisplay(isHunting)
                    
                    if isHunting then
                        pcall(function() client.Character.Humanoid:ChangeState(11) end)
                    end

                    if Base.Transparency == 1 and not isHunting then
                        sv:Disconnect()
                        updateHuntDisplay(false)
                    end
                end)
            end
            if HRoot and BasePart then
                HRoot.CFrame = BasePart.CFrame * CFrame.new(0, 7, 0)
            end
        end
        wait(1)  -- Adjust wait time as necessary
    end
end

-- Call the function to start ghost hunting
startGhostHunting()
